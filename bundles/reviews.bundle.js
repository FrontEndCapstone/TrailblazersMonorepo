!function(e){function n(n){for(var r,o,u=n[0],c=n[1],l=n[2],s=0,d=[];s<u.length;s++)o=u[s],a[o]&&d.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(f&&f(n);d.length;)d.shift()();return i.push.apply(i,l||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],r=!0,u=1;u<t.length;u++){var c=t[u];0!==a[c]&&(r=!1)}r&&(i.splice(n--,1),e=o(o.s=t[0]))}return e}var r={},a={4:0},i=[];function o(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=r,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)o.d(t,r,function(n){return e[n]}.bind(null,r));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="bundles";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=n,u=u.slice();for(var l=0;l<u.length;l++)n(u[l]);var f=c;i.push([56,0]),t()}({56:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(5),o=t.n(i),u=t(1),c=t(4),l=t(20),f="http://fec-reviews-dev.us-west-2.elasticbeanstalk.com",s=window.location.href.split("/")[window.location.href.split("/").length-1],d="undefined"!=typeof TEST_ENV,p=Object(l.a)({reviews:d?TESTreviews:{},ratings:d?TESTratings:[0,0,0,0,0],sortDirection:d?TESTsortDirection:"mostRecent",updateCounter:d?TESTupdateCounter:0,modifiedKeys:d?TESTmodifiedKeys:{}}),v=function(){return{sortReviewsBy:function(e,n){return{sortDirection:n}},incrementValue:function(e,n,t){var r=e.reviews,a=e.updateCounter;r[n].modifiedKeys[t]||(!function(e){fetch("".concat(f,"/reviews/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}({reviewId:n,updatedCol:t,newValue:r[n][t]+1}),r[n].modifiedKeys[t]=!0,r[n][t]+=1,p.setState({reviews:r,updateCounter:a+1}))}}};!function(){var e={};if("undefined"!=typeof INITIAL_STATE){var n=INITIAL_STATE,t=n.reviews,r=n.ratings;p.setState({reviews:t,ratings:r})}fetch("".concat(f,"/reviews/").concat(s)).then(function(e){return e.json()}).then(function(n){var t=n.reduce(function(e,n){var t=e;return t[n.rating-1]++,t},Array(5).fill(0));n.forEach(function(n){e[n.id]=n,e[n.id].modifiedKeys={}}),p.setState({reviews:e,ratings:t})})}();var g={gold:"#bd5b0d",grey:"#c5c5c5",lightGrey:"#ededed",darkGrey:"#ccc"};function m(){var e=E([""]);return m=function(){return e},e}function h(){var e=E(["\n  color: ",";\n  font-size: 1.3em;\n"]);return h=function(){return e},e}function b(){var e=E(["\n  margin-top: 0;\n"]);return b=function(){return e},e}function w(){var e=E(["\n  font-weight: bold;\n  display: inline;\n"]);return w=function(){return e},e}function E(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var y=u.a.div(w()),O=u.a.h3(b()),j=u.a.span(h(),function(e){return e.filled?g.gold:g.grey}),T=u.a.span(m()),x=Object(c.connect)("reviews")(function(e){var n=e.reviews[e.id],t=n.reviewer,r=n.title,i=n.rating,o=n.posting_date,u=new Date(o),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][u.getMonth()],l="".concat(c," ").concat(u.getDate(),", ").concat(u.getFullYear()),f=[1,2,3,4,5].map(function(e){return a.a.createElement(j,{key:e,filled:e<=i},"★")});return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{title:"".concat(i," out of 5 stars")},f),a.a.createElement(y,null,t," "),a.a.createElement(T,null," ",l),a.a.createElement(O,null,r))});function S(){var e=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(["\n  background-color: ",";\n  margin: 0.5em;\n  padding: 0.1em;\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n  cursor: default;\n  ",";\n"]);return S=function(){return e},e}var k=u.a.span(S(),g.lightGrey,g.darkGrey,g.darkGrey,function(e){return e.changed?"font-weight: bold;":":hover {\n      box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\n    };"}),z=Object(c.connect)("reviews,sortDirection,updateCounter",v)(function(e){var n=e.reviews,t=e.sortDirection,r=e.incrementValue,i=Object.values(n);return{mostRecent:function(){return i.sort(function(e,n){return new Date(n.posting_date)-new Date(e.posting_date)})},ratingLowToHigh:function(){return i.sort(function(e,n){return e.rating-n.rating})},ratingHighToLow:function(){return i.sort(function(e,n){return n.rating-e.rating})},mostHelpful:function(){return i.sort(function(e,n){return n.helpful-e.helpful})}}[t]().map(function(e){var n=e.id,t=e.body,i=e.recommend,o=e.helpful,u=e.unhelpful,c=e.modifiedKeys;return a.a.createElement("div",{key:n},a.a.createElement(x,{id:n}),a.a.createElement("p",null,t),a.a.createElement("p",null,a.a.createElement("strong",null,i?"☑ Yes":"☒ No"),", I",!i&&" do not"," recommend this product"),a.a.createElement("p",null,"Helpful?",a.a.createElement(k,{changed:c.helpful,onClick:function(){return r(n,"helpful")}},"Yes: ",o),a.a.createElement(k,{changed:c.unhelpful,onClick:function(){return r(n,"unhelpful")}},"No: ",u)),a.a.createElement("hr",null))})});function P(){var e=C(["\n  padding-left: 1em;\n"]);return P=function(){return e},e}function R(){var e=C(["\n  display: inline-block;\n  background-color: ",";\n  margin-left: calc(-1 * (198px + ","em));\n  width: ","px;\n  height: 10px;\n"]);return R=function(){return e},e}function _(){var e=C(["\n  display: inline-block;\n  background-color: ",";\n  width: 180px;\n  height: 10px;\n"]);return _=function(){return e},e}function D(){var e=C(["\n  margin-bottom: 0;\n"]);return D=function(){return e},e}function A(){var e=C(["\n  float: left;\n"]);return A=function(){return e},e}function C(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var H=u.a.div(A()),L=u.a.p(D()),I=u.a.span(_(),g.grey),M=u.a.span(R(),g.gold,function(e){return.65*String(e.rating).length},function(e){return 180/e.totalRatings*e.rating}),N=u.a.span(P()),J=Object(c.connect)("ratings")(function(e){var n=e.ratings,t=n.reduce(function(e,n){return e+n},0);return a.a.createElement(H,null,a.a.createElement(L,null,"Rating Snapshot"),n.reverse().map(function(e,n){return a.a.createElement("div",{key:n},5-n,"★: ",a.a.createElement(I,null),a.a.createElement(N,null,e),a.a.createElement(M,{rating:e,totalRatings:t}))}))});function K(){var e=U(["\n  padding-top: 0.5em;\n  padding-left: 1em;\n  float: left;\n"]);return K=function(){return e},e}function B(){var e=U(["\n  float: left;\n  padding-top: 0.5em;\n"]);return B=function(){return e},e}function G(){var e=U(["\n  color: #bd5b0d;\n  width: ","%;\n  height: 1.15em;\n  overflow: hidden;\n"]);return G=function(){return e},e}function V(){var e=U(["\n  display: inline-block;\n  color: #c5c5c5;\n  font-size: 1.5em;\n  float: left;\n  width: 0;\n  overflow: visible;\n"]);return V=function(){return e},e}function F(){var e=U(["\n  width: fit-content;\n  float: left;\n"]);return F=function(){return e},e}function Y(){var e=U(["\n  float: right;\n"]);return Y=function(){return e},e}function U(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var q=u.a.div(Y()),Q=u.a.div(F()),W=u.a.span(V()),X=Object(u.a)(W)(G(),function(e){return 20*e.ratingAve}),Z=u.a.span(B()),$=u.a.span(K()),ee=Object(c.connect)("ratings")(function(e){var n=e.ratings,t=n.reduce(function(e,n,t){return e+n*(4-t)},0)/n.reduce(function(e,n){return e+n},0)+1||0;return a.a.createElement(q,null,a.a.createElement("p",null,"Average Customer Ratings"),a.a.createElement(Z,null,"Overall"),a.a.createElement(Q,null,a.a.createElement(W,{className:"AverageRating__Bar"},"★★★★★"),a.a.createElement(X,{ratingAve:t},"★★★★★")),a.a.createElement($,null,t.toPrecision(3)))});function ne(){var e=re(["\n  background-color: white;\n  text-align-last: right;\n  width: ","em;\n  border: none;\n  font-size: 1em;\n"]);return ne=function(){return e},e}function te(){var e=re(["\n  float: right;\n  padding-left: 50%;\n"]);return te=function(){return e},e}function re(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var ae=u.a.div(te()),ie=u.a.select(ne(),function(e){return e.wordLength-1.5}),oe=Object(c.connect)("sortDirection",v)(function(e){var n=e.sortDirection,t=e.sortReviewsBy;return a.a.createElement(ae,null,a.a.createElement("span",null,"Sort By:"),a.a.createElement(ie,{value:n,wordLength:n.length,onChange:function(e){return t(e.target.value)}},a.a.createElement("option",{value:"mostRecent"},"Most Recent"),a.a.createElement("option",{value:"ratingHighToLow"},"Highest to Lowest Rating"),a.a.createElement("option",{value:"ratingLowToHigh"},"Lowest to Highest Rating"),a.a.createElement("option",{value:"mostHelpful"},"Most Helpful")))});function ue(){var e=fe(["\n  text-align: center;\n"]);return ue=function(){return e},e}function ce(){var e=fe(["\n  height: 12em;\n"]);return ce=function(){return e},e}function le(){var e=fe(["\n  margin: 40px auto;\n  max-width: 650px;\n  line-height: 1.6;\n  font-size: 18px;\n  color: #444;\n  padding: 0 10px;\n"]);return le=function(){return e},e}function fe(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var se=u.a.div(le()),de=u.a.div(ce()),pe=u.a.h1(ue()),ve=function(){return a.a.createElement(c.Provider,{store:p},a.a.createElement(se,null,a.a.createElement(pe,null,"Reviews"),a.a.createElement(de,null,a.a.createElement(J,null),a.a.createElement(ee,null)),a.a.createElement(oe,null),a.a.createElement(z,null)))};o.a.render(a.a.createElement(ve,null),document.getElementById("reviews"))}});